<div class="p-6 space-y-6">
  <h2 class="text-2xl font-bold">Categorias de Equipamento</h2>

  <form #form="ngForm" [formGroup]="categoryForm" (ngSubmit)="saveCategory()" class="space-y-4">
    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Nome da categoria</mat-label>
      <input matInput placeholder="Notebook" formControlName="name" />
      @if (categoryForm.get('name')?.invalid && categoryForm.get('name')?.touched) {
        <mat-error> Nome da categoria é obrigatório </mat-error>
      }
      @if (categoryForm.get('name')?.hasError('pattern')) {
        <mat-error> Nome não pode ser vazio </mat-error>
      }
    </mat-form-field>

    <button mat-raised-button color="accent" type="submit" [disabled]="categoryForm.invalid">
      {{ selectedCategory ? 'Atualizar' : 'Adicionar' }}
    </button>
  </form>

  <div class="mt-8">
    <h3 class="text-lg font-semibold mb-2">Lista de Categorias</h3>
    <app-dynamic-table
      [dataSource]="categories"
      [columns]="tableColumns()"
      [actionsResolver]="getRowActions"
      (actionClicked)="handleAction($event)"
      [showPaginator]="true"
    />
  </div>
</div>
