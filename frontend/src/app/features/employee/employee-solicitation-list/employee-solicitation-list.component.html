<div class="p-6 space-y-6">
  <h2 class="text-2xl font-semibold">Solicitações</h2>

  <div class="flex flex-wrap gap-4 items-center">
    <label>
      <input type="radio" name="filter" [(ngModel)]="filterType" value="TODAS" (change)="applyFilter()" />
      Todas
    </label>
    <label>
      <input type="radio" name="filter" [(ngModel)]="filterType" value="PERIODO" (change)="applyFilter()" />
      Período
    </label>

    <div *ngIf="filterType === 'PERÍODO'" class="flex gap-2 items-center">
      <input type="date" [(ngModel)]="dateStart" (change)="applyFilter()" class="border px-2 py-1 rounded" />
      <span>até</span>
    </div>
  </div>

  <div *ngIf="filteredSolicitations.length > 0; else noResults">
    <div
      *ngFor="let solicitation of filteredSolicitations"
      class="p-4 rounded shadow flex justify-between items-center mb-3"
      [ngClass]="getStatusClass(solicitation.status)"
    >
      <div>
        <p><strong>ID:</strong> {{ solicitation.id }}</p>
        <p><strong>Equipamento:</strong> {{ solicitation.equipment }}</p>
        <p><strong>Data:</strong> {{ solicitation.dateTime | date: 'shortDate' }}</p>
        <p><strong>Status:</strong> {{ solicitation.status }}</p>
        <p *ngIf="solicitation.status === 'REDIRECIONADA'">
          <strong>Redirecionada para:</strong> {{ solicitation.redirectedTo }}
        </p>
      </div>

      <div *ngIf="getActionButton(solicitation)" class="ml-4">
        <a
          [routerLink]="getActionButton(solicitation)?.route"
          class="bg-black text-white px-4 py-2 rounded hover:opacity-90 transition"
        >
          {{ getActionButton(solicitation)?.label }}
        </a>
      </div>
    </div>
  </div>

  <ng-template #noResults>
    <p class="text-gray-500">Nenhuma solicitação encontrada.</p>
  </ng-template>
</div>
