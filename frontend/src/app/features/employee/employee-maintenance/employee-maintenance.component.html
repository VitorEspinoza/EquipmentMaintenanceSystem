<div class="center-square-container">
  <mat-card class="budget-approve.component-card">
    <mat-card-header style="display: flex; justify-content: center; align-items: center">
      <mat-card-title style="text-align: center"><strong>Detalhes da Solicitação</strong></mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="info-item">
        <p><strong>Equipamento:</strong> {{ 'Notebook Dell G15.' }}</p>
      </div>
      <div class="info-item">
        <p><strong>Cliente</strong> {{ 'Gabriel Antônio Veiga' }}</p>
      </div>
      <div class="info-item">
        <p><strong>Defeito:</strong> {{ 'A tela está com pixels mortos.' }}</p>
      </div>
      <div class="info-item">
        <p><strong>Data/Hora</strong>: {{ '13/05/2023 - 21:23' }}</p>
      </div>
      <div class="info-item">
        <p>
          <strong>Preço Orçado: </strong> <span class="highlight">R${{ '120.00' }}</span>
        </p>
      </div>
      <div class="info-item">
        <p><strong>Status Atual</strong>: {{ 'ORÇADO' }}</p>
      </div>

      <div class="info-item" *ngIf="solicitation?.redirectedTo">
        <p><strong>Redirecionado para:</strong> {{ solicitation.redirectedTo }}</p>
      </div>
    </mat-card-content>

    <mat-divider></mat-divider>

    <mat-card-actions
      class="action-buttons"
      style="display: flex; justify-content: center; align-items: center; gap: 10px"
    >
      <button mat-flat-button color="primary" (click)="performMaintenace()">Efetuar Manutenção</button>
      <button mat-flat-button color="accent" (click)="redirectMaintenace()">Redirecionar Manutenção</button>
    </mat-card-actions>
  </mat-card>

  <mat-card class="observacoes-card" *ngIf="solicitation?.history?.length">
    <mat-card-header>
      <mat-card-title>Histórico de Estados</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div *ngFor="let entry of solicitation?.history">
        <p class="text-sm text-gray-800">
          <strong>{{ entry.changeDate | date: 'dd/MM/yyyy HH:mm' }}</strong> — {{ entry.previousState }} →
          {{ entry.newState }} por {{ entry.updatedBy }}
        </p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
